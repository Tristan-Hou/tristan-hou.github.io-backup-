---
layout: post
title: 音视频学习（1）：基础概念
data: 2017-12-24
tags: ffmpeg

---

## 视频格式
主流编码格式有H.261/H.263/H.264/H.265，运动静止图像专家组的M-JPEG和国际标准化组织运动图像专家组的MPEG系列标准，还有Real-Networks的RealVideo、微软的WMV和苹果的QuickTime等。目前主要学习`H264`

- `低码率`：同等图像质量数据量只有MPEG2的1/8，MPEG4的1/3
- `高质量`：连续、流畅的高质量图像（DVD质量）
- `容错能力强`：提供了在不稳定网络环境下容易发生的丢包等错误的必要工具
- `网络适应性强`：H.264提供了网络抽象层，似的H.264的文件能容易的在不同网络上传输（互联网、CDMA、GPRS、WCDMA、CDMA2000等）
- `高压缩率`：压缩比可达到102：1（同等图像质量，是MPEG2的2倍以上，MPEG4的1.5~2倍——原始文件大小88G，MPEG2压缩后变成3.5G，压缩比25：1，而H.264压缩后为879M）

## 音频格式
- 采样率：模-数转换过程中单位时间内采样次数
- 单声道声音文件：采样数据为8位的短整数（short int 00H-FFH）
- 双声道立体声文件：每次采样数据为一个16位的整数（int），高8位为左声道，低8位为右声道

采样记录的是振幅，因此：
- 1字节（8bit）只能记录256个数
- 2字节（16bit）可以记录65536个数，属于CD标准
- 4字节（32bit）没必要

可根据mav文件大小、采样率、采样大小估算播放时长：424.644字节，“属性->摘要”里看到“22050Hz/16bit/立体声”，因此每秒传输速率就是22050 * 16 * 2 = 705600（bit/s)，字节：705600 / 8 = 88200（字节/s)。而包装标准PCM（脉冲编码调制）格式的WAVE文件（*.wav）中至少带有42个字节头信息，所以播放时长为：
（424644 - 42） / (22050 * 16 * 2 / 8) ≈ 4.8140816s

上面例子中，705600（bit/s)也叫`比特率/取样率` kbps/bps。压缩的音频文件常用位速表示，cd音质的MP3是:128kbps/44100Hz。

PCM采样顺序图：
![](https://raw.githubusercontent.com/Tristan-Hou/MarkdownImg/master/res/31215112_8x2j37.gif)

